<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>NetRexx at Once</title></head>
<body style="color: rgb(0, 0, 0); background-color: rgb(204, 204, 204);" alink="#ff0000" link="#0000ff" vlink="#800080">

<a name="CLASSES"></a>
<center>
<h1><font color="#ff0000">NetRexx at Once</font></h1>
<h2><font color="#ff0000">Quick Guide for Java Developers</font></h2>
</center>

<hr><a href="netrexxAtOnce.html">[Index]</a> <a href="netrexxAtOnce01.html">[Previous Chapter]</a> <a href="netrexxAtOnce03.html">[Next Chapter]</a>

<h2><font color="#ff0000">2. Classes and Objects</font></h2>
What we have seen previously is useful for small applications. What
about more complex applications and applets? We need to declare
classes, fields, methods and to create objects. For example, consider
this case: we want to write a simple Applet that reads a String
parameter (given with the PARAM tag) and writes it in white on a red
background. Let's see what we need.
<p><a name="DEC CLASS"></a>
</p><h3><font color="#ff0000">2.1 CLASS Instruction</font></h3>
<p>We want to create a <b>class file</b> to be used as an Applet by a Browser. We need to extend the Java class <b>java.applet.Applet</b> and we start as follows:

</p><p><table border="1" cellpadding="10"><tbody><tr><td bgcolor="#ffffcc">
<b>Java</b><br>
<pre>/* This is MyApplet.java */<br>import java.applet.Applet;<br>public class MyApplet extends Applet {<br>  //... list of fields and methods<br>}<br></pre>
</td><td bgcolor="#ccffff">
<b>NetRexx</b><br>
<pre>/* This is MyApplet.nrx */<br>class MyApplet extends Applet<br>  --... list of properties and methods<br>--<br>--<br></pre>
</td></tr><tr><td colspan="2" bgcolor="#ffccff">
<b>notes</b><br>
<ul>
<li>No import needed for standard <b>Java packages</b>.
</li><li>Fields (variables in classes) are called <b>properties</b>.
</li></ul>
</td></tr>
<tr><td colspan="2" bgcolor="#dddddd">
<b><font color="#ff00ff">CLASS Instruction Syntax</font></b><p><b>
class <font color="#0000ff"><i>class_name</i></font> <font color="#ff0000">[</font>private<font color="#ff0000">|</font>public<font color="#ff0000">|</font>shared<font color="#ff0000">]</font> <font color="#ff0000">[</font>abstract<font color="#ff0000">|</font>final<font color="#ff0000">|</font>interface<font color="#ff0000">|</font>adapter<font color="#ff0000">]</font> <font color="#ff0000">[</font>binary<font color="#ff0000">]</font><br>
<font color="#ff0000">[</font>extends <font color="#0000ff"><i>parent_class_name</i></font><font color="#ff0000">]</font><br>
<font color="#ff0000">[</font>uses <font color="#0000ff"><i>used_class_name</i><font color="#ff0000">[</font>,<font color="#ff0000">...]]</font></font><br>
<font color="#ff0000">[</font>implements <font color="#0000ff"><i>interface_name</i><font color="#ff0000">[</font>,<font color="#ff0000">...]];</font></font>
</b></p><p><b><font color="#ff00ff">visibility</font>
</b></p><ul>
<b>public </b>visible to all classes (default for the first class in a file)<b><br>
private </b>visible within  the current package (default for all other <i>classes</i> in a file)<b><br>
shared </b>visible within  the current package (same as <i>private</i>)<b>
</b></ul>
<p><b><font color="#ff00ff">modifiers</font>
</b></p><ul>
<b>final </b>cannot be extended<b><br>
abstract </b>some <i>method</i> is abstract<b><br>
interface </b>all <i>methods</i> are abstract and <i>properties</i> are constants<b><br>
adapter </b>implements (automatically) all inherited abstract <i>methods</i><b>
</b></ul>
<p><b><font color="#ff00ff">binary</font> </b>forces the use of native types<b>
</b></p><p><b><font color="#ff00ff">extends</font> </b>indentifies the <i>superclass</i><b>
</b></p><p><b><font color="#ff00ff">uses</font> </b>lists <i>classes</i> sources of static <i>properties</i> and <i>methods</i><b>
</b></p><p><b><font color="#ff00ff">implements</font> </b>lists <i>interfaces</i> inherited<b>
</b>
</p></td></tr>
</tbody></table>

</p><p><a name="DEC PROP"></a>
</p><h3><font color="#ff0000">2.2 PROPERTIES Instruction</font></h3>
<p>Let's add a field to the Applet. In the <b>init</b> method we'll read the parameter MSG and then its value will be stored in a variable.
</p><p><table border="1" cellpadding="10"><tbody><tr><td bgcolor="#ffffcc">
<b>Java</b><br>
<pre>/* This is MyApplet.java */<br>import java.applet.Applet;<br>public class MyApplet extends Applet {<br>  String message;<br>  //... list of methods<br>}<br></pre>
</td><td bgcolor="#ccffff">
<b>NetRexx</b><br>
<pre>/* This is MyApplet.nrx */<br>class MyApplet extends Applet<br>  message=String  -- inheritable by default<br>  --... list of methods<br>--<br>--<br></pre>
</td></tr><tr><td colspan="2" bgcolor="#ffccff">
<b>notes</b><br>
<ul>
<li>Fields don't need a type: it's set according to the <b>assignment</b>.
</li><li>The initial value is <b>null</b> (different from <i>message=String()</i>).
</li><li>The <b>properties</b> instruction is used to change visibility (<i>inheritable</i> by default).
</li></ul>
</td></tr>
<tr><td colspan="2" bgcolor="#dddddd">
<b><font color="#ff00ff">PROPERTIES Instruction Syntax</font></b><p><b>
properties <font color="#ff0000">[</font>public<font color="#ff0000">|</font>inheritable<font color="#ff0000">|</font>private<font color="#ff0000">|</font>shared<font color="#ff0000">]</font> <font color="#ff0000">[</font>constant<font color="#ff0000">|</font>static<font color="#ff0000">|</font>volatile<font color="#ff0000">|</font>transient<font color="#ff0000">|</font>indirect<font color="#ff0000">];</font>
</b></p><p><b><font color="#ff00ff">visibility</font>
</b></p><ul>
<b>public </b>visible to all classes in which the current <i>class</i> is visible<b><br>
inheritable </b>visible within the current package and to <i>classes</i> that extends the current <i>class</i> (default)<b><br>
 shared </b>visible within the current package but not inherited by <i>classes</i> that extends the current <i>class</i><b><br>
private </b>visible within the current class<b><br>
</b></ul>
<p><b><font color="#ff00ff">modifiers</font>
</b></p><ul>
<b>constant </b>unchangeable property of the class<b><br>
static </b>changeable property of the class<b><br>
volatile </b>may change asynchronously<b><br>
transient </b>not saved when the object is serialized<b><br>
indirect </b>accessed through (automatically generated) <i>get-set</i> methods (JavaBeans convenction)<b><br>
</b></ul>

</td></tr>
</tbody></table>

</p><p><a name="DEC METHOD"></a>
</p><h3><font color="#ff0000">2.3 METHOD Instruction</font></h3>
<p>Finally, we need the <b>init()</b> method (to initialize the <i>message</i> field reading the MSG parameter) and the <b>paint(Graphics g)</b> method (to show the message).

</p><p><table border="1" cellpadding="10"><tbody><tr><td bgcolor="#ffffcc">
<b>Java</b><br>
<pre>/* This is MyApplet.java */<br>import java.applet.Applet;<br>public class MyApplet extends Applet {<br>  String message;<br>  public void init() {<br>    setBackground(Color.red);<br>    setForeground(Color.white);<br>    message = getParameter("MSG");<br>  }<br>  public void paint(Graphics g) {<br>    g.drawString(message,10,10);<br>  }<br>}<br></pre>
</td><td bgcolor="#ccffff">
<b>NetRexx</b><br>
<pre>/* This is MyApplet.nrx */<br>class MyApplet extends Applet<br>  message=String<br>  method init<br>    setBackground(Color.red)<br>    setForeground(Color.white)<br>    message=getParameter("MSG")<br>  method paint(g=Graphics)<br>    g.drawString(message,10,10)<br>--<br>--<br>--<br>--<br></pre>
</td></tr><tr><td colspan="2" bgcolor="#ffccff">
<ul>
<li>Methods without arguments don't need <b>parentheses</b>.
</li><li>Arguments are declared with an <b>assignment</b>.
</li><li><b>Default values</b> may be associated to arguments through the assignment mechanism.
</li><li>No <b>brakets</b> needed to end the block of a method.
</li></ul>
</td></tr>
<tr><td colspan="2" bgcolor="#dddddd">
<b><font color="#ff00ff">METHOD Instruction Syntax</font></b><p><b>
method <i><font color="#0000ff">method_name</font></i><font color="#ff0000">[</font>(<font color="#ff0000">[</font><font color="#0000ff"><i>argument_name</i></font><font color="#ff0000">[</font>,<font color="#ff0000">...]]</font>)<font color="#ff0000">]</font><br>
<font color="#ff0000">[</font>public<font color="#ff0000">|</font>inheritable<font color="#ff0000">|</font>private<font color="#ff0000">|</font>shared<font color="#ff0000">]</font><br>
<font color="#ff0000">[</font>constant<font color="#ff0000">|</font>static<font color="#ff0000">|</font>abstract<font color="#ff0000">|</font>final<font color="#ff0000">|</font>native<font color="#ff0000">]</font> <font color="#ff0000">[</font>protect<font color="#ff0000">] </font></b><b><font color="#ff0000">[</font>binary<font color="#ff0000">]</font></b><b><br>
<font color="#ff0000">[</font>returns <font color="#0000ff"><i>return_type</i></font><font color="#ff0000">]</font><br>
<font color="#ff0000">[</font>signals <font color="#0000ff"><i>exception_name</i></font><font color="#ff0000">[</font>,<font color="#ff0000">...]];</font><br>
</b></p><p><b><font color="#ff00ff">visibility</font>
</b></p><ul>
<b>public </b>visible to all classes in which the current <i>class</i> is visible<b><br>
inheritable </b>visible within the current package and to <i>classes</i> that extends the current <i>class</i> (default)<b><br>
 shared </b>visible within the current package but not inherited by <i>classes</i> that extends the current <i>class</i><b><br>
private </b>visible within the current class<b><br>
</b></ul>
<p><b><font color="#ff00ff">modifiers</font>
</b></p><ul>
<b>static </b>method of the class<b><br>
final </b>cannot be overridden<b><br>
constant </b><i>static</i> and <i>final</i><b><br>
abstract </b>not implemented<b><br>
native </b>implemented externally<b><br>
</b></ul>
<p><b><font color="#ff00ff">protect</font> </b>protects the current object (synchronization)</p><p><b><font color="#ff00ff">binary</font> </b>forces the use of native types<b>
</b></p><p><b><font color="#ff00ff">returns</font> </b>defines the type returned (default <i>NetRexx String</i>)<b>
</b></p><p><b><font color="#ff00ff">signals</font> </b>lists throwable exceptions<b>
</b>
</p></td></tr>
</tbody></table>

</p><p><a name="DEF ARGS"></a>
</p><h4><font color="#ff0000">2.3.1 Default Values for Arguments</font></h4>
<p>Default values for the arguments of a method are an useful feature
available in C++. Java doesn't possess it, but NetRexx does. Imagine a
class that often needs to pass the same argument to one of its methods.
With Java you can add another method with the same name that uses a
default value and recalls the original one, otherwise you are obliged
to pass that value every time you need it. In NetRexx it's sufficient
to declare a value for that argument in the argument list. For example,
consider a <i>Sphere</i> class that must be scaled (often by a 2 factor):

</p><p><table border="1" cellpadding="10"><tbody><tr><td bgcolor="#ffffcc">
<b>Java</b><br>
<pre>/* This is Sphere.java */<br>public class Sphere {<br>  private float radius = 1.0;<br>  Sphere(float radius) {<br>    this.radius = radius;<br>  }<br>  public void Scale(float factor) {<br>    radius *= factor;<br>  }<br>  public void Scale() {<br>    Scale(2.0);<br>  }<br>}<br><br>// In another class<br>Sphere sph = new Sphere();<br>sph.Scale();   // doubles the radius<br>sph.Scale(0.5); // halves the radius<br></pre>
</td><td bgcolor="#ccffff">
<b>NetRexx</b><br>
<pre>/* This is Sphere.nrx */<br>class Sphere<br>  properties private<br>    radius<br>  method Sphere(radius=1.0)<br>    this.radius=radius<br>  method Scale(factor=2.0)<br>    radius = radius * factor<br>--<br>--<br>--<br>--<br>--<br><br>-- In another class<br>sph=Sphere<br>sph.Scale     -- doubles the radius<br>sph.Scale(0.5) -- halves the radius<br></pre>
</td></tr><tr><td colspan="2" bgcolor="#ffccff">
<ul>
<li>Variables may have <b>no type</b> (REXX by defaut).
</li><li>Default arguments are declared as an <b>assignment</b>.
</li><li>No <b>op=</b> operators.
</li><li>PROPERTIES is used to change <b>default visibility</b> of properties.
</li></ul>
</td></tr>
</tbody></table>

</p><p><a name="RET VALS"></a>
</p><h4><font color="#ff0000">2.3.2 Returning Values</font></h4>
<p>A method returns values with the <b>return</b> keyword. For example, let's change the <i>Sphere</i> class in a more configurable one:

</p><p><table border="1" cellpadding="10"><tbody><tr><td bgcolor="#ffffcc">
<b>Java</b><br>
<pre>/* This is Sphere.java */<br>public class Sphere {<br>  private float radius = 1.0;<br>  public Sphere(float r) {<br>    radius = r;<br>  }<br>  public float getRadius() {<br>    return radius;<br>  }<br>  public void setRadius(float r) {<br>    radius = r;<br>  }<br>}<br></pre>
</td><td bgcolor="#ccffff">
<b>NetRexx</b><br>
<pre>/* This is Sphere.nrx */<br>class Sphere<br>  properties private<br>    radius<br>  method Sphere(r=1.0)<br>    radius=r<br>  method getRadius<br>    return radius<br>  method setRadius(r)<br>    radius=r<br>--<br>--<br>--<br></pre>
</td><td bgcolor="#ccffff">
<b>NetRexx (experimental)</b><br>
<pre>/* This is Sphere.nrx */<br>class Sphere<br>  properties indirect<br>    radius<br>  method Sphere(r=1.0)<br>    radius=r<br>--<br>--<br>--<br>--<br>--<br>--<br>--<br></pre>
</td></tr><tr><td colspan="3" bgcolor="#ffccff">
<ul>
<li>Variables may have <b>no type</b> (REXX by defaut).
</li><li>Methods may have <b>no return type</b> (REXX by defaut).
</li><li><i>Indirect</i> <b>visibility</b> is used to generate automatically methods<br>for an easy access of properties (JavaBeans convenctions).
</li></ul>
</td></tr>
</tbody></table>

</p><p><a name="CONS OBJECT"></a>
</p><h3><font color="#ff0000">2.4 Constructors</font></h3>
<p>Objects are created using special methods called constructors.
Constructors, as in Java, have the same name as the class. Instances of
classes (objects) are created without the <b>new</b> keyword and, as in normal methods, arguments may have <b>default</b> values.

</p><p><table border="1" cellpadding="10"><tbody><tr><td bgcolor="#ffffcc">
<b>Java</b><br>
<pre>/* Examples of new Java objects */<br>Vector v1 = new Vector();   // empty Vector<br>Vector v2 = new Vector(10); // with capacity<br></pre>
</td><td bgcolor="#ccffff">
<b>NetRexx</b><br>
<pre>/* Examples of new NetRexx objects */<br>v1=Vector()   -- an empty Vector<br>v2=Vector(10) -- with capacity<br></pre>
</td></tr><tr><td colspan="2" bgcolor="#ffccff">
<ul>
<li><b>new</b> keyword isn't needed.
</li><li>Constructors need <b>parentheses</b> even if no arguments are supplied.
</li><li>Available <b>default</b> values for arguments.
</li><li>No <b>type</b> declaration (implied in assignment).
</li></ul>
</td></tr>
</tbody></table>

</p><p><a href="netrexxAtOnce.html">[Index]</a> <a href="netrexxAtOnce01.html">[Previous Chapter]</a> <a href="netrexxAtOnce03.html">[Next Chapter]</a>

</p><hr><br>
<center><br>
</center>

</body></html>