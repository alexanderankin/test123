<!DOCTYPE ACTIONS SYSTEM "actions.dtd">
<!-- $Id$ -->
<!--
   NavigatorPlugin actions.
-->
<ACTIONS>
   <ACTION NAME="navigator.back">
      <CODE>
         ise.plugin.nav.NavigatorPlugin plugin = jEdit.getPlugin("ise.plugin.nav.NavigatorPlugin");
         plugin.goBack(view);
      </CODE>
   </ACTION>
   <ACTION NAME="navigator.forward">
      <CODE>
         ise.plugin.nav.NavigatorPlugin plugin = jEdit.getPlugin("ise.plugin.nav.NavigatorPlugin");
         plugin.goForward(view);
      </CODE>
   </ACTION>
   <ACTION NAME="navigator.toolbar">
      <CODE>
         boolean show = jEdit.getBooleanProperty("ise.plugin.nav.Navigator.showOnToolbar", true);
         jEdit.setBooleanProperty("ise.plugin.nav.Navigator.showOnToolbar", !show);
         show = jEdit.getBooleanProperty("ise.plugin.nav.Navigator.showOnToolbar", true);
         ise.plugin.nav.NavigatorPlugin plugin = jEdit.getPlugin("ise.plugin.nav.NavigatorPlugin");
         ise.plugin.nav.Navigator navigator = plugin.getNavigator(view);
         if (navigator == null) {
            navigator = new ise.plugin.nav.Navigator(view, "");  
         }
         ise.plugin.nav.Nav nav = navigator.getNav();
         javax.swing.Box toolbar = view.getToolBar();
         if (toolbar != null && toolbar.isVisible() ) {
            if (show) {
               if (view.getDockableWindowManager().isDockableWindowDocked(ise.plugin.nav.NavigatorPlugin.NAME)){
                  view.getDockableWindowManager().hideDockableWindow(ise.plugin.nav.NavigatorPlugin.NAME);     
               }
               navigator.remove( nav );
               toolbar.remove( nav );
               toolbar.add( nav );
            }
            else {
               toolbar.remove( nav );
               navigator.remove( nav );
               navigator.add( nav );
            }
            toolbar.repaint();
         }
      </CODE>
      <IS_SELECTED>
         jEdit.getBooleanProperty("ise.plugin.nav.Navigator.showOnToolbar", true);
      </IS_SELECTED>
   </ACTION>
</ACTIONS>

