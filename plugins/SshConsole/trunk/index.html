<html>
<head> 
<title> jEdit SshConsole plugin </title>
</head>
<body>
<h1> jEdit SSH Console Plugin </h1>
<h2> Alan Ezust, alan dot ezust at gmail dot com </h2>
<h3> $Date$ </h3>

<h2> jEdit SshConsole Plugin </h2>

<p> This plugin itself has no user interface, because it is an extension of three other plugins: Console, FTP, and ErrorList. It is designed to allow you to easily compile files you are editing remotely via sftp:// and parse the errors for ErrorList.
</p>

<p> Console provides jEdit with a dockable command line interface to the System Shell and the BeanShell, and an open interface for adding new shells. SshConsole adds a jEdit Shell Service to Console called <tt>ssh</tt>. </p>

<p> The FTP plugin defines a new virtual file system (VFS) called "sftp://", which allows the user to make secure <tt>sftp://</tt> connections to remote hosts, and browse their file systems using jEdit's File System Browser, also known as FSB or VFSBrowser. At any time, the user can select, and then manipulate selected files from the FSB or jEdit. Since the FTP plugin handles prompting and remembering username/passwords, the SshConsole plugin assumes you want to <tt>ssh</tt> into the same host using the same port and creds as the most recent <tt>sftp://</tt> connection in that View's FSB.  
</p>

<h2> Instructions for use: </h2>

<ol>
<li> <tt>Plugins - SshConsole - Show SshConsole</tt> <b>[1]</b> </li>
<li> Dock an FSB: <tt>Utilities - File System Browser </tt>. </li>
<li> With FSB: navigate to a remote host via <tt>sftp://</tt>. </li>
<li> If this is your first time connecting, Enter your user/password/key/passphrase there. </li>
<li> After you're connected, if you plan to connect often to this host, add it as a bookmark in the File System Browser. </li>
<li> With FSB: click on (or open) the remote file that you want to compile. </li>
<li> Enter commands in the ssh console. Initially, it will connect and show you the message of the day. </li>
<li> Click in the correct directory in the FSB. Notice the remote directory changes. </li>
<li> Compile something in that directory. Compile something with errors in it. </li>
<li> Look at the ErrorList dockable. Click on an error in the dockable. </li> 
</ol>

<p> If later, you use the FSB to connect to a different remote sftp host, then the next
time you use the SshConsole, it should logout of the old ssh session, create a new shell
connection to the same host you just logged into via sftp, and send your shell
commands there.
</p>

<p> <b>[1]</b> Alternately, you can use <tt>Plugins - Console - Shells - Ssh</tt>, or
open a Console and select ssh from the combobox. </p>


<h2> Click the FSB to change directories </h2>

<p> A recently added feature to jEdit 4.3 allows the plugins, such as the Console, to listen for node selected events in the FSB. In response, the Console changes the working directory of its Shell sessions. This is an option for the <tt>System</tt> shell, but is 'always on' for the <tt>ssh</tt> shell. It is also the means by which the ErrorList knows the base path for resolving relative paths in error messages.
</p>

<h2> Parse Errors for ErrorList </h2>

<p> Console parses the output of the ssh connection through the error parsers which are listed in the <tt>Plugin Options - Console - Error Parsers</tt>, and creates or adds <tt>DefaultErrors</tt> to the <tt>ErrorSource</tt>. You can click on the error in the ErrorList, and jEdit will open the remote file for you if necessary.
</p>

<h2> Job Control </h2>

<p> Sending Ctrl-D (EOF), or Ctrl-Z (DETACH), all work the way you would expect them to, on a unix shell. To send a Ctrl-C, click on the "X" button in the Console pane (Ctrl-C is still a "copy to clipboard" shortcut). Other control keys typed during the execution of your program are not sent to the remote host. Let me know if you need one of them to be. </p>

<h2> Future Plans </h2>

<ul>
<li> Make the Console Commandos smarter, so that they can execute in the ssh or System shell depending on the VFS used in the path.</li>
<li> Implement built-ins:  <tt>%edit</tt> and <tt>%browse</tt>.</li>
<li> Interpret or ignore vt10x escape codes for color changes. </li>
</ul>

<hr />

<p> Enjoy! This is free software, released under the GPL V2. Feel free to contribute to it (or other plugins) too, by joining the <tt>jedit-devel@lists.sourceforge.net</tt> mailing list and submitting patches or suggestions. </p>

<h2> History </h2>

<ul>
<li> <b>Version 0.1</b> (initial release) - Requires JDK 1.5, jEdit 4.3pre12, ErrorList 1.5, FTP plugin 0.9.2, Console plugin 4.3.5.
</li>
</ul>

</body>
