<html>
<head>
<title>Console Plugin</title>
</head>

<body>

<table bgcolor=#ccccff border=0 width=100%>
<tr width=100%><td><font size=+2>Console Plugin</font></td>
<td align=right><font size=-1>By Slava Pestov<br>
<i>sp@gjt.org</i></font></td></tr>
</table>

<hr>

<a href=#general>General Information</a><br>
<a href=#shell>The Default Shell</a><br>
<a href=#other>Using Other Shells</a><br>
<a href=#toolbar>The Console Tool Bar</a><br>
<a href=#changes>Change Log</a>

<hr>

<a name=general>
<h1>General Information</h1>
</a>

The console plugin allows the user to run commands in various
available <i>shells</i>. The default shell runs
system processes (such as programs, compilers, etc). Other plugins,
for example BeanShell, add shells of their own which perform other
tasks.<p>

A console can be opened by selecting Plugins&gt;Console. The console
window can be docked into the view if you specify so in
Utilities&gt;Global Options&gt;Docking. <p>

Each console window has a text field where commands can be entered, and
an output area that lists output of running commands. The combo box to
the left of the command field allows you to select the shell to execute
commands in.<p>

Pressing enter in the command field will execute the
currently entered command. The command field supports a history;
basically you can use the Up/Down arrow keys to recall previous commands.
See the section on history text fields in the jEdit manual for details.<p>

Entering `clear' will remove all text from the console.<p>

<!--
<b>Tip</b>: if you find yourself executing the same console command frequently,
record it in a macro. Simply enter the command in the console while a
macro recording is in progress.<p>
-->

<hr>

<a name=shell>
<h1>The Default Shell</h1>
</a>

The default console shell runs operating system commands.
To use it, select <b>Console</b> from the popup menu to the right of the
command text field.<p>

The default shell understands the following variables as part of a command:

<ul>
<li>~ - expands to the user's home directory
<li>$d - expands to the current file's parent directory
<li>$f - expands to the current file's full path
<li>$u - expands to the current file's URL (file: is prepended if it is
a local file)
<li>$j - expands to the directory where jEdit is installed
<li>$n - expands to the current file's name, without the trailing extension,
if any
<li>$$ - expands to the $ character
</ul>

The default shell also parses command output for compiler errors. A number
of different formats are supported, and new error patterns can be added
in <b>Utilities</b>&gt;<b>Global Options</b>&gt;<b>Console</b>. Parsed errors
are added to the error list, which can be viewed by invoking
<b>Plugins</b>&gt;<b>Error List</b> (if you do not see that menu item, then
you need to install the ErrorList plugin).<p>

When running on Java 1.3 or later, the working directory from which commands
are executed can be changed with the "cd" command.
To display the current working directory, use the "pwd" command.

<hr>

<a name=others>
<h1>Using Other Shells</h1>
</a>

A few other plugins define shells of their own; BeanShell is an example
of this. To use an alternative shell, select it from the shell popup
in the console window.<p>

Note that other shells cannot use the console's variable expansion or
error parsing services.

<hr>

<a name=toolbar>
<h1>The Console Tool Bar</h1>
</a>

If enabled in <b>Utilities</b>&gt;<b>Global Options</b>&gt;<b>Console</b>,
the console will add a tool bar to each view allowing quick and easy
command invocation.

<hr>

<a name=changes>
<h1>Change Log</h1>
</a>

<h3>Version 2.3.1</h3>

Requires EditBus 0.10 and jEdit 2.6pre5.

<ul>
<li>Fixed a race condition between the stdout and stderr threads
<li>Because the macro recording API has changed between jEdit 2.6 and 2.7,
recording support in the console has been disabled temporarily to preserve
compatibility with both jEdit versions. It will be re-enabled as soon as
2.7final is released
</ul>

<h3>Version 2.3</h3>

Requires EditBus 0.10 and jEdit 2.6pre5.

<ul>
<li>'Stop' button added to console window
<li>"cd" command now supported on Java 1.3 and later
<li>Removed call to deprecated <code>MiscUtilities.getFileParent()</code>
method; Console now requires jEdit 2.6pre5 or later
</ul>

<h3>Version 2.2</h3>

Requires EditBus 0.9.4 and jEdit 2.6pre3.

<ul>
<li>Uses jEdit 2.6pre3 window docking API
</ul>

<h3>Version 2.1.3</h3>

Requires EditBus 0.9.4 and jEdit 2.5.1.

<ul>
<li>Option pane fixed to work with jEdit 2.6pre2
<li>Compiler error pattern for Microsoft Visual C++ added
</ul>

<h3>Version 2.1.2</h3>

Requires EditBus 0.9.2 and jEdit 2.5pre1.

<ul>
<li>Another compatibility fix for 2.5pre1
<li>Fixed another option pane bug
</ul>

<h3>Version 2.1.1</h3>

Requires EditBus 0.9.2 and jEdit 2.4.2.

<ul>
<li>Compatibility fixes for upcoming jEdit 2.5pre1
<li>Fixed minor console option pane bug
</ul>

<h3>Version 2.1</h3>

Requires EditBus 0.9.2 and jEdit 2.4pre6.

<ul>
<li>Error patterns can now be changed in the option pane
<li>Commands invoked through the "console" action (eg, in macros) are now
added to the history
<li>Updated for new option pane API
<li>Updated to use jEdit.get/setBooleanProperty() for boolean properties
</ul>

<h3>Version 2.0.2</h3>

Requires EditBus 0.9 and jEdit 2.2pre3.

<ul>
<li>Updated error patterns
</ul>

<h3>Version 2.0.1</h3>

Requires EditBus 0.9 and jEdit 2.3pre3.

<ul>
<li>Console geometry was not being saved
</ul>

<h3>Version 2.0</h3>

Requires EditBus 0.9 and jEdit 2.3pre3. This is a complete rewrite that
has an enhanced user interface, customizable error parsing, and many other
improvements.

<h3>Version 1.9.3</h3>

Requires EditBus 0.7 and jEdit 2.2pre8. This version has the following changes:

<ul>
<li>Fixed an NullPointerException that could occur when a process exits
<li>Fixes for EditBus 0.7
</ul>

<h3>Version 1.9.2</h3>

Requires jEdit 2.2pre6 and EditBus 0.6. This version has the following changes:

<ul>
<li>Processes could not be killed in the console shell
</ul>

<h3>Version 1.9.1</h3>

Requires jEdit 2.2pre6 and EditBus 0.6. This version has the following changes:

<ul>
<li>compatibility fixes for 2.2pre6
<li>executing BeanShell commands from the console would cause problems
<li>error parsing changed to work with the latest Jikes releases
<li>macro recording code was broken
</ul>

<h3>Version 1.9</h3>

Requires EditBus 0.3 and jEdit 2.2pre4. This version has the following
changes:

<ul>
<li>The 'Console' command now has a check box that is selected if a
console is open
<li>Commands entered in the console can now be recorded to macros
<li>Fixed handling of GetOutput message
<li>Console menu commands removed; use macros instead
</ul>

<h3>Version 1.8</h3>

Requires EditBus 0.3 and jEdit 2.2pre3. This version has the following
changes:

<ul>
<li>appletviewer menu entry is now 'appletviewer $u'
<li>$n bug fixed
<li>Error list unbundled into ErrorList plugin
<li>Changes for EditBus 0.3
</ul>

<h3>Version 1.7.2</h3>

Requires EditBus 0.2 and jEdit 2.1pre3. This version has the following
changes:

<ul>
<li>Entering commands in the console didn't work; only the tool bar
was functional
<li>$n now expands to the file's name, without the extension
<li>Entering a command will kill the currently running process
</ul>

<h3>Version 1.7.1</h3>

Requires EditBus 0.2 and jEdit 2.1pre3. This version is a minor GUI update
only, to make it look better in jEdit 2.2.

<h3>Version 1.7</h3>

Requires EditBus 0.2 and jEdit 2.1pre3.

<ul>
<li>Only one console instance is created per view
<li>Processes are no longer killed, instead they are detached
and continue executing in the background
<li>Update for new option pane API
</ul>

<h3>Version 1.6</h3>

Requires EditBus 0.2 and jEdit 2.1pre1.

<ul>
<li>Commands should now be added to the history
<li>Running commands can now be stopped
<li>Supports EditBus GetOutputs, GetOutput, StopCommand messages
</ul>

<h3>Version 1.5</h3>

Requires EditBus 0.1.1 and jEdit 2.0final.

<ul>
<li>Reverts to old option pane code
<li>Console menu can now contain frequently used commands
</ul>

<h3>Version 1.4</h3>

Requires EditBus 0.1 and jEdit 2.0final.

<ul>
<li>First EditBus-enabled release
</ul>

<h3>Version 1.3</h3>

Change log started

</body>
</html>
